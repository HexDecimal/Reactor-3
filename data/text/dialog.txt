START_CONVERSATION:@ALWAYS:"You got time to talk?":>WANTS_CONVERSATION
WANTS_CONVERSATION:@ALWAYS:"Sure!":>CONVERSATION
CONVERSATION:!HAS_QUESTIONS_FOR_TARGET:>ASK_ABOUT_RECENT_EVENTS:>TALK_ABOUT_RECENT_EVENTS
CONVERSATION:!HAS_QUESTIONS_FOR_TARGET,@IS_GROUP_LEADER,!IS_IN_SAME_GROUP:"Looking for a group?":>RECRUIT,GROUP_ID=@GET_GROUP
CONVERSATION:!HAS_QUESTIONS_FOR_TARGET:"Feel like trading?":>END
CONVERSATION:!HAS_QUESTIONS_FOR_TARGET,@IS_GROUP_LEADER,IS_IN_SAME_GROUP:"I have work for you.":>TALK_ABOUT_GROUP_ORDERS
CONVERSATION:HAS_QUESTIONS_FOR_TARGET:>%*$ASK_TARGET_QUESTION%:>END
CONVERSATION:!HAS_QUESTIONS_FOR_TARGET:"Nevermind.":>END
CONVERSATION:@IS_PLAYER,!SEEN_TARGET_RECENTLY:"Where are you?":>GET_LOCATION

RECRUIT:!IS_COMBAT_TARGET:"Possibly. What's the plan?":>TALK_ABOUT_GROUP_MOTIVES

GREETING:IS_IN_SAME_GROUP:"Hey, what's up?":>GREETING_RESPONSE
GREETING:IS_IN_SAME_GROUP,@IS_TARGET_GROUP_LEADER:Orders?:>GET_ORDERS
GREETING:@ALWAYS:"Hello.":>GREETING_RESPONSE
GREETING:@ALWAYS:"Hi.":>GREETING_RESPONSE

GREETING_RESPONSE:@ALWAYS:>@GREETING:>END
ASK_ABOUT_RECENT_EVENTS:@ALWAYS:"Anything new?":>TALK_ABOUT_RECENT_EVENTS
ASK_ABOUT_RECENT_EVENTS:@ALWAYS:"What have you been up to recently?":>TALK_ABOUT_RECENT_EVENTS
TALK_ABOUT_RECENT_EVENTS:@ALWAYS:$@GET_RECENT_EVENTS:>END

TALK_ABOUT_GROUP_MOTIVES:@ALWAYS:"There's strength in numbers.":>REACT_TO_GROUP_MOTIVES
TALK_ABOUT_GROUP_MOTIVES:@ALWAYS:"We can make lots of money together.":>REACT_TO_GROUP_MOTIVES
REACT_TO_GROUP_MOTIVES:@ALWAYS:"That sounds interesting. I'm in.":>CONVERSATION,JOIN_GROUP

TALK_ABOUT_GROUP_ORDERS:@HAS_NEEDS_TO_MEET:"I'm busy right now.":>HANDLE_REJECTION,REJECT=TALK_ABOUT_GROUP_ORDERS
TALK_ABOUT_GROUP_ORDERS:!@HAS_NEEDS_TO_MEET:"Yes?":>ORDERS

HANDLE_REJECTION:@ALWAYS:"Maybe you should reconsider that.":>RECONSIDER

ORDERS:@ALWAYS:"Kill...":>ORDER_KILL,NEXT_GIST="ORDERS_KILL_TARGET",TARGET=GET_TARGET
ORDERS_KILL_TARGET:@ALWAYS:"I need this person eliminated.":>REACT_TO_KILL_TARGET_ORDER
REACT_TO_KILL_TARGET_ORDER:@ALWAYS:"I can do that.":>END

RECONSIDER:@ALWAYS:>%REJECT%:>RECONSIDERED

CALL_ACCEPTED:@ALWAYS:"What can I help you with?":>CONVERSATION

GET_LOCATION:@ALWAYS:"I am near %*@$GET_LOCATION%.":>END,UPDATE_LOCATION