=1
SET LOCATION_CHUNK FIND_NEAREST_CELL_TYPE VILLAGE
MOVE_TO LOCATION_CHUNK
SET GATHERED_ITEM SEARCH_FOR_ITEM %ITEM_TYPE%
?EXISTS GATHERED_ITEM & HAS_FACTION_BASE: START 2
?EXISTS GATHERED_ITEM & !HAS_FACTION_BASE: START 3

=2
SET LOCATION_CHUNK FIND_FACTION_BASE
MOVE_TO LOCATION_CHUNK
COMPLETE

=3
COMPLETE